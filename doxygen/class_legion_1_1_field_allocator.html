<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Legion Runtime: Legion::FieldAllocator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Legion Runtime
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_legion.html">Legion</a></li><li class="navelem"><a class="el" href="class_legion_1_1_field_allocator.html">FieldAllocator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="class_legion_1_1_field_allocator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Legion::FieldAllocator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="legion_8h_source.html">legion.h</a>&gt;</code></p>

<p>Inherits Legion::Unserializable&lt; T &gt;.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a969b7a0dc1faf19341cb832e70ff1b70"><td class="memItemLeft" align="right" valign="top"><a id="a969b7a0dc1faf19341cb832e70ff1b70"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>FieldAllocator</b> (const <a class="el" href="class_legion_1_1_field_allocator.html">FieldAllocator</a> &amp;allocator)</td></tr>
<tr class="separator:a969b7a0dc1faf19341cb832e70ff1b70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7dab083a274728ff2a43558fc0bd53a"><td class="memItemLeft" align="right" valign="top"><a id="af7dab083a274728ff2a43558fc0bd53a"></a>
<a class="el" href="class_legion_1_1_field_allocator.html">FieldAllocator</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="class_legion_1_1_field_allocator.html">FieldAllocator</a> &amp;allocator)</td></tr>
<tr class="separator:af7dab083a274728ff2a43558fc0bd53a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19d8f64d128d64774be1b328a17c7269"><td class="memItemLeft" align="right" valign="top"><a id="a19d8f64d128d64774be1b328a17c7269"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>operator&lt;</b> (const <a class="el" href="class_legion_1_1_field_allocator.html">FieldAllocator</a> &amp;rhs) const</td></tr>
<tr class="separator:a19d8f64d128d64774be1b328a17c7269"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97aa2a28428f58d67bae2f99b1327210"><td class="memItemLeft" align="right" valign="top"><a id="a97aa2a28428f58d67bae2f99b1327210"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>operator==</b> (const <a class="el" href="class_legion_1_1_field_allocator.html">FieldAllocator</a> &amp;rhs) const</td></tr>
<tr class="separator:a97aa2a28428f58d67bae2f99b1327210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ad13f2419c3a71c85870eb5ded1c8d6"><td class="memItemLeft" align="right" valign="top">FieldID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legion_1_1_field_allocator.html#a9ad13f2419c3a71c85870eb5ded1c8d6">allocate_field</a> (size_t field_size, FieldID desired_fieldid=AUTO_GENERATE_ID, CustomSerdezID serdez_id=0)</td></tr>
<tr class="separator:a9ad13f2419c3a71c85870eb5ded1c8d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6ea0d49201686a8c0604837b0a1f1fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legion_1_1_field_allocator.html#af6ea0d49201686a8c0604837b0a1f1fb">free_field</a> (FieldID fid)</td></tr>
<tr class="separator:af6ea0d49201686a8c0604837b0a1f1fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40d4a2698158d9544caf23b7d3d8f383"><td class="memItemLeft" align="right" valign="top">FieldID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legion_1_1_field_allocator.html#a40d4a2698158d9544caf23b7d3d8f383">allocate_local_field</a> (size_t field_size, FieldID desired_fieldid=AUTO_GENERATE_ID, CustomSerdezID serdez_id=0)</td></tr>
<tr class="separator:a40d4a2698158d9544caf23b7d3d8f383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93751e59e9258b221dfa65655ca345c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legion_1_1_field_allocator.html#a93751e59e9258b221dfa65655ca345c2">allocate_fields</a> (const std::vector&lt; size_t &gt; &amp;field_sizes, std::vector&lt; FieldID &gt; &amp;resulting_fields, CustomSerdezID serdez_id=0)</td></tr>
<tr class="separator:a93751e59e9258b221dfa65655ca345c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5afe3cb27f1b8da92a1ec68b196186f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legion_1_1_field_allocator.html#a5afe3cb27f1b8da92a1ec68b196186f7">free_fields</a> (const std::set&lt; FieldID &gt; &amp;to_free)</td></tr>
<tr class="separator:a5afe3cb27f1b8da92a1ec68b196186f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41404760cb480a1a40dea27b68dafdf3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legion_1_1_field_allocator.html#a41404760cb480a1a40dea27b68dafdf3">allocate_local_fields</a> (const std::vector&lt; size_t &gt; &amp;field_sizes, std::vector&lt; FieldID &gt; &amp;resulting_fields, CustomSerdezID serdez_id=0)</td></tr>
<tr class="separator:a41404760cb480a1a40dea27b68dafdf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e8dad416f9b754b34fcb1179142b132"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_legion_1_1_field_space.html">FieldSpace</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_legion_1_1_field_allocator.html#a8e8dad416f9b754b34fcb1179142b132">get_field_space</a> (void) const</td></tr>
<tr class="separator:a8e8dad416f9b754b34fcb1179142b132"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:afaac5d97093cd61bfcf217aebb7e8724"><td class="memItemLeft" align="right" valign="top"><a id="afaac5d97093cd61bfcf217aebb7e8724"></a>
FRIEND_ALL_RUNTIME_CLASSES&#160;</td><td class="memItemRight" valign="bottom"><b>FieldAllocator</b> (<a class="el" href="class_legion_1_1_field_space.html">FieldSpace</a> f, Context p, <a class="el" href="class_legion_1_1_runtime.html">Runtime</a> *rt)</td></tr>
<tr class="separator:afaac5d97093cd61bfcf217aebb7e8724"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Field allocators provide objects for performing allocation on field spaces. They must be explicitly created by the runtime so that they can be linked back to the runtime. Field allocators can be passed by value to functions and stored in data structures, but they should never escape the enclosing context in which they were created.</p>
<p>Field space allocators operate on a single field space which is immutable. Separate field space allocators must be made to perform allocations on different field spaces.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_legion_1_1_field_space.html">FieldSpace</a> </dd>
<dd>
<a class="el" href="class_legion_1_1_runtime.html">Runtime</a> </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a9ad13f2419c3a71c85870eb5ded1c8d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ad13f2419c3a71c85870eb5ded1c8d6">&#9670;&nbsp;</a></span>allocate_field()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FieldID Legion::FieldAllocator::allocate_field </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>field_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FieldID&#160;</td>
          <td class="paramname"><em>desired_fieldid</em> = <code>AUTO_GENERATE_ID</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CustomSerdezID&#160;</td>
          <td class="paramname"><em>serdez_id</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Allocate a field with a given size. Optionally specify the field ID to be assigned. Note if you use AUTO_GENERATE_ID, then all fields for the field space should be generated this way or field names may be deduplicated as the runtime will not check against user assigned field names when generating its own. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">field_size</td><td>size of the field to be allocated </td></tr>
    <tr><td class="paramname">desired_fieldid</td><td>field ID to be assigned to the field or AUTO_GENERATE_ID to specify that the runtime should assign a fresh field ID </td></tr>
    <tr><td class="paramname">serdez_id</td><td>optional parameter for specifying a custom serdez object for serializing and deserializing a field when it is moved. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>field ID for the allocated field </dd></dl>

</div>
</div>
<a id="a93751e59e9258b221dfa65655ca345c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93751e59e9258b221dfa65655ca345c2">&#9670;&nbsp;</a></span>allocate_fields()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Legion::FieldAllocator::allocate_fields </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>field_sizes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; FieldID &gt; &amp;&#160;</td>
          <td class="paramname"><em>resulting_fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CustomSerdezID&#160;</td>
          <td class="paramname"><em>serdez_id</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Allocate a collection of fields with the specified sizes. Optionally pass in a set of field IDs to use when allocating the fields otherwise the vector should be empty or the same size as field_sizes with AUTO_GENERATE_ID set as the value for each of the resulting_field IDs. The length of the resulting_fields vector must be less than or equal to the length of field_sizes. Upon return it will be the same size with field IDs specified for all the allocated fields </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">field_sizes</td><td>size in bytes of the fields to be allocated </td></tr>
    <tr><td class="paramname">resulting_fields</td><td>optional field names for allocated fields </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>resulting_fields vector with length equivalent to the length of field_sizes with field IDs specified </dd></dl>

</div>
</div>
<a id="a40d4a2698158d9544caf23b7d3d8f383"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40d4a2698158d9544caf23b7d3d8f383">&#9670;&nbsp;</a></span>allocate_local_field()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FieldID Legion::FieldAllocator::allocate_local_field </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>field_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FieldID&#160;</td>
          <td class="paramname"><em>desired_fieldid</em> = <code>AUTO_GENERATE_ID</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CustomSerdezID&#160;</td>
          <td class="paramname"><em>serdez_id</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Same as allocate field, but this field will only be available locally on the node on which it is created and not on remote nodes. It will then be implicitly destroyed once the task in which it is allocated completes. </p>

</div>
</div>
<a id="a41404760cb480a1a40dea27b68dafdf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41404760cb480a1a40dea27b68dafdf3">&#9670;&nbsp;</a></span>allocate_local_fields()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Legion::FieldAllocator::allocate_local_fields </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>field_sizes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; FieldID &gt; &amp;&#160;</td>
          <td class="paramname"><em>resulting_fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CustomSerdezID&#160;</td>
          <td class="paramname"><em>serdez_id</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Same as allocate_fields but the fields that are allocated will only be available locally on the node on which this call is made and not on remote nodes. The fields will be implicitly destroyed once the task in which they were created completes. </p>

</div>
</div>
<a id="af6ea0d49201686a8c0604837b0a1f1fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6ea0d49201686a8c0604837b0a1f1fb">&#9670;&nbsp;</a></span>free_field()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Legion::FieldAllocator::free_field </td>
          <td>(</td>
          <td class="paramtype">FieldID&#160;</td>
          <td class="paramname"><em>fid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Deallocate the specified field from the field space. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fid</td><td>the field ID to be deallocated </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5afe3cb27f1b8da92a1ec68b196186f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5afe3cb27f1b8da92a1ec68b196186f7">&#9670;&nbsp;</a></span>free_fields()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Legion::FieldAllocator::free_fields </td>
          <td>(</td>
          <td class="paramtype">const std::set&lt; FieldID &gt; &amp;&#160;</td>
          <td class="paramname"><em>to_free</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Free a collection of field IDs </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">to_free</td><td>set of field IDs to be freed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8e8dad416f9b754b34fcb1179142b132"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e8dad416f9b754b34fcb1179142b132">&#9670;&nbsp;</a></span>get_field_space()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_legion_1_1_field_space.html">FieldSpace</a> Legion::FieldAllocator::get_field_space </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>field space associated with this allocator </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>legion/<a class="el" href="legion_8h_source.html">legion.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Aug 29 2017 16:30:12 for Legion Runtime by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
